{"version":3,"sources":["javascripts/videoLightning.js"],"names":["bind","fn","me","apply","arguments","document","VideoLightning","_bitify","_boolify","_cc","_coverEl","_domStr","_extObj","_fadeCss","_fadeIn","_fadeOut","_frameCss","_fullHex","_getEl","_gravity","_initYTAPI","_isAry","_isElAry","_isObj","_isStr","_postToVM","_prepHex","_randar","_setSrc","_testEl","_topKeyOfObj","_val","_wrapCss","_wrapCssP","_ytReset","dom","videoLightning","_this","obj","de","domEls","e","el","els","i","j","l","len","len1","len2","len3","m","noElErr","optEls","pushRawEls","rawEls","settings","console","error","elements","element","push","opts","length","vlData","instances","elObj","vmStop","vmPlay","vmListen","initPlayerVM","coverYT","ytState","ytStop","ytPlay","setYTPlayer","initPlayerYT","cover","hide","show","clear","stop","play","peek","hovered","clicked","regEvents","resize","popoverPos","buildEls","buildOpts","inst","prototype","base","base1","display_ratio","elDataSet","k","key","name","normalize","ref","remap","results","v","dataset","getAttribute","replace","a","b","c","toLowerCase","width","parseInt","height","fullscreenAllowed","window","innerWidth","Math","round","id","match","vendor","vm","ifr","yt","bdbg","bdc","bdo","fdim","fglo","fmar","frameCss","g","wrapCss","xCss","target","createElement","className","parentNode","insertBefore","appendChild","bdColor","bdOpacity","r","glow","glowColor","popover","xBgColor","xColor","xBorder","frameColor","frameBorder","insertAdjacentHTML","tag","attrs","style","zIndex","children","inner","type","wrapper","getElementById","iframe","close","pos","fluidity","left","x","top","y","throttleOff","throttle","setTimeout","cursor","addEventListener","peeking","buttons","which","button","playing","pin","innerHTML","url","encodeURI","ready","src","clearAfter","clearTimeout","fade","rickRoll","unload","unloadAfter","fadeIn","fadeOut","params","enablejsapi","autoplay","autohide","cc_load_policy","ccLoadPolicy","color","controls","disablekb","end","endTime","fs","hl","iv_load_policy","ivLoadPolicy","list","listType","loop","modestbranding","origin","encodeURIComponent","location","protocol","host","playerapiid","playlist","playsinline","rel","showinfo","start","startTime","theme","setAttribute","ytAPIReady","ytPlayer","YT","Player","events","onReady","onStateChange","playVideo","stopVideo","clearVideo","data","autoclose","ytCover","title","byline","portrait","api","player_id","vmPlayer","msg","JSON","parse","event","p","d","o","ref1","baseObj","extObj","Array","HTMLCollection","NodeList","charAt","substr","getElementsByClassName","random","toString","slice","substring","hex","w","h","t","transition","mozTransition","webkitTransition","applyFade","display","opacity","scriptA","vFuncs","vScript","getElementsByTagName","async","nextSibling","s","getDuration","getCurrentTime","pauseVideo","seekTo","player","method","value","contentWindow","postMessage","stringify","test","cssText","body","offsetWidth","offsetHeight","box_center","center","coords","page_height","page_width","points","ref2","ref3","ref4","ref5","sort","getBoundingClientRect","right","bottom","ary","dax","day","obja","objb","ref6","diffx","diffy","diff","ytReady","youtube","vimeo","$","jqueryVideoLightning","options","each","call"],"mappings":"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","file":"videoLightning.84e67ae8.js","sourceRoot":"../src","sourcesContent":["/*\n *  Video Lightning - v3.0.9\n *  Turn any element into a lightbox or popover link for Youtube and Vimeo videos.\n *  https://github.com/musocrat/jquery-video-lightning/\n *\n *  Made by Andrew Carpenter @ Musocrat\n *  Published under MIT License\n */\n(function() {\n  var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  (function(document) {\n    var VideoLightning, _bitify, _boolify, _cc, _coverEl, _domStr, _extObj, _fadeCss, _fadeIn, _fadeOut, _frameCss, _fullHex, _getEl, _gravity, _initYTAPI, _isAry, _isElAry, _isObj, _isStr, _postToVM, _prepHex, _randar, _setSrc, _testEl, _topKeyOfObj, _val, _wrapCss, _wrapCssP, _ytReset, dom, videoLightning;\n    dom = document;\n    videoLightning = (function(_this) {\n      return function(obj) {\n        var de, domEls, e, el, els, i, j, l, len, len1, len2, len3, m, noElErr, optEls, pushRawEls, rawEls, settings;\n        noElErr = function() {\n          console.error('VideoLightning was initialized without elements.');\n        };\n        optEls = obj.elements || obj.element;\n        if (!optEls) {\n          return noElErr();\n        }\n        rawEls = [];\n        els = [];\n        pushRawEls = function(e) {\n          var el;\n          if (_isStr(e)) {\n            return rawEls.push({\n              el: e,\n              opts: null\n            });\n          } else {\n            el = _topKeyOfObj(e);\n            return rawEls.push({\n              el: el,\n              opts: e[el] || null\n            });\n          }\n        };\n        if (_isAry(optEls)) {\n          for (i = 0, len = optEls.length; i < len; i++) {\n            e = optEls[i];\n            pushRawEls(e);\n          }\n        } else {\n          pushRawEls(optEls);\n        }\n        for (j = 0, len1 = rawEls.length; j < len1; j++) {\n          el = rawEls[j];\n          if ((domEls = _getEl(el.el))) {\n            if (_isElAry(domEls)) {\n              for (l = 0, len2 = domEls.length; l < len2; l++) {\n                de = domEls[l];\n                els.push({\n                  el: de,\n                  opts: el.opts\n                });\n              }\n            } else {\n              els.push({\n                el: domEls,\n                opts: el.opts\n              });\n            }\n          }\n        }\n        if (els.length === 0) {\n          return noElErr();\n        }\n        settings = obj.settings || {};\n        for (m = 0, len3 = els.length; m < len3; m++) {\n          el = els[m];\n          if (el) {\n            _this.vlData.instances.push(new VideoLightning(el, settings));\n          }\n        }\n        _initYTAPI();\n      };\n    })(this);\n    VideoLightning = (function() {\n      function VideoLightning(elObj, opts) {\n        this.elObj = elObj;\n        this.vmStop = bind(this.vmStop, this);\n        this.vmPlay = bind(this.vmPlay, this);\n        this.vmListen = bind(this.vmListen, this);\n        this.initPlayerVM = bind(this.initPlayerVM, this);\n        this.coverYT = bind(this.coverYT, this);\n        this.ytState = bind(this.ytState, this);\n        this.ytStop = bind(this.ytStop, this);\n        this.ytPlay = bind(this.ytPlay, this);\n        this.setYTPlayer = bind(this.setYTPlayer, this);\n        this.initPlayerYT = bind(this.initPlayerYT, this);\n        this.cover = bind(this.cover, this);\n        this.hide = bind(this.hide, this);\n        this.show = bind(this.show, this);\n        this.clear = bind(this.clear, this);\n        this.stop = bind(this.stop, this);\n        this.play = bind(this.play, this);\n        this.peek = bind(this.peek, this);\n        this.hovered = bind(this.hovered, this);\n        this.clicked = bind(this.clicked, this);\n        this.regEvents = bind(this.regEvents, this);\n        this.resize = bind(this.resize, this);\n        this.popoverPos = bind(this.popoverPos, this);\n        this.buildEls = bind(this.buildEls, this);\n        this.buildOpts = bind(this.buildOpts, this);\n        this.opts = _extObj({}, opts);\n        this.inst = _randar();\n        this.el = this.elObj.el;\n        this.buildOpts();\n        this.buildEls();\n        if (_boolify(this.opts.cover, false)) {\n          this.cover();\n        }\n        this.regEvents();\n      }\n\n      VideoLightning.prototype.buildOpts = function() {\n        var base, base1, display_ratio, elDataSet, i, j, k, key, len, len1, name, normalize, ref, remap, results, v;\n        remap = [['backdrop_color', 'bdColor'], ['backdrop_opacity', 'bdOpacity'], ['ease_in', 'fadeIn'], ['ease_out', 'fadeOut'], ['glow_color', 'glowColor'], ['start_time', 'startTime'], ['z_index', 'zIndex'], ['rick_roll', 'rickRoll'], ['iv_load_policy', 'ivLoadPolicy']];\n        _extObj(this.opts, this.elObj.opts);\n        elDataSet = this.el.dataset || [];\n        if (elDataSet.length === 0) {\n          ref = ['id', 'width', 'height'];\n          for (i = 0, len = ref.length; i < len; i++) {\n            k = ref[i];\n            v = this.el.getAttribute(\"data-video-\" + k);\n            if (v) {\n              elDataSet[k] = v;\n            }\n          }\n        }\n        normalize = (function(_this) {\n          return function(k, v) {\n            return _this.opts[k.replace(/^video(.)(.*)/, function(a, b, c) {\n              return b.toLowerCase() + c;\n            })] = v;\n          };\n        })(this);\n        for (k in elDataSet) {\n          v = elDataSet[k];\n          normalize(k, v);\n        }\n        this.opts.width = this.opts.width ? parseInt(this.opts.width, 10) : 640;\n        this.opts.height = this.opts.height ? parseInt(this.opts.height, 10) : 390;\n        display_ratio = this.opts.height / this.opts.width;\n        if (!this.opts.fullscreenAllowed && this.opts.width > (window.innerWidth - 90)) {\n          this.opts.width = window.innerWidth - 90;\n          this.opts.height = Math.round(display_ratio * this.opts.width);\n        }\n        if ((base = this.opts).id == null) {\n          base.id = 'y-dQw4w9WgXcQ';\n        }\n        if (this.opts.id.match(/^v/)) {\n          this.vendor = 'vimeo';\n          this.vm = true;\n        } else if (this.opts.id.match(/^f/)) {\n          this.vendor = 'iframe';\n          this.ifr = true;\n        } else {\n          this.vendor = 'youtube';\n          this.yt = true;\n        }\n        window.vlData[this.vendor] = true;\n        this.id = this.opts.id.replace(/([vyf]-)/i, '');\n        results = [];\n        for (j = 0, len1 = remap.length; j < len1; j++) {\n          key = remap[j];\n          results.push((base1 = this.opts)[name = key[1]] != null ? base1[name] : base1[name] = this.opts[key[0]]);\n        }\n        return results;\n      };\n\n      VideoLightning.prototype.buildEls = function() {\n        var bdbg, bdc, bdo, fdim, fglo, fmar, frameCss, g, wrapCss, xCss;\n        (this.target = dom.createElement('span')).className = 'video-target';\n        this.el.parentNode.insertBefore(this.target, this.el);\n        this.target.appendChild(this.el);\n        bdc = _cc(_val(this.opts.bdColor, '#ddd'));\n        bdo = _val(this.opts.bdOpacity, 0.6);\n        bdbg = \"background: rgba(\" + bdc.r + \", \" + bdc.g + \", \" + bdc.b + \", \" + bdo + \");\";\n        fdim = \"width: \" + this.opts.width + \"px; height: \" + this.opts.height + \"px;\";\n        fmar = \"margin-top: -\" + (this.opts.height / 2) + \"px; margin-left: -\" + (this.opts.width / 2) + \"px;\";\n        fglo = \"box-shadow: 0px 0px \" + (g = _val(this.opts.glow, 20)) + \"px \" + (g / 5) + \"px \" + (_fullHex(_val(this.opts.glowColor, '#000'))) + \";\";\n        wrapCss = _boolify(this.opts.popover, false) ? _wrapCssP(this.opts.width, this.opts.height) : _wrapCss;\n        xCss = \"background: \" + (_fullHex(_val(this.opts.xBgColor, '#000'))) + \"; color: \" + (_fullHex(_val(this.opts.xColor, '#fff'))) + \"; border: \" + (_val(this.opts.xBorder, 'none')) + \"; box-sizing: border-box;\";\n        frameCss = \"background: \" + (_fullHex(_val(this.opts.frameColor, '#000'))) + \"; border: \" + (_val(this.opts.frameBorder, 'none')) + \"; box-sizing: border-box;\";\n        this.target.insertAdjacentHTML('beforeend', _domStr({\n          tag: 'div',\n          attrs: {\n            id: \"wrap_\" + this.inst,\n            \"class\": 'video-wrapper',\n            style: wrapCss + \" \" + bdbg + \" z-index: \" + (_val(this.opts.zIndex, 2100)) + \"; opacity: 0;\"\n          },\n          children: [\n            {\n              tag: 'div',\n              attrs: {\n                \"class\": 'video-frame',\n                style: _frameCss + \" \" + fdim + \" \" + fmar + \" \" + fglo\n              },\n              children: [\n                {\n                  tag: 'div',\n                  attrs: {\n                    \"class\": 'video'\n                  },\n                  children: [\n                    {\n                      tag: 'div',\n                      inner: '&times;',\n                      attrs: {\n                        id: \"close_\" + this.inst,\n                        \"class\": 'video-close',\n                        style: \"float: right; margin-right: -34px; \" + fglo + \" \" + xCss + \" padding: 0 10px 0 12px; font-size: 25px;\"\n                      }\n                    }, {\n                      tag: 'iframe',\n                      attrs: {\n                        type: 'text/html',\n                        id: \"iframe_\" + this.inst,\n                        \"class\": 'video-iframe',\n                        style: \"position: absolute; top: 0; left: 0; \" + frameCss\n                      }\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }));\n        this.wrapper = dom.getElementById(\"wrap_\" + this.inst);\n        this.iframe = dom.getElementById(\"iframe_\" + this.inst);\n        return this.close = dom.getElementById(\"close_\" + this.inst);\n      };\n\n      VideoLightning.prototype.popoverPos = function() {\n        var pos;\n        pos = _gravity(this.target, this.opts.width, this.opts.height, this.opts.fluidity);\n        this.wrapper.style.left = pos.x + \"px\";\n        return this.wrapper.style.top = pos.y + \"px\";\n      };\n\n      VideoLightning.prototype.resize = function() {\n        var throttleOff;\n        if (!window.vlData.throttle) {\n          this.popoverPos();\n          if (this.opts.throttle) {\n            window.vlData.throttle = true;\n            throttleOff = function() {\n              return window.vlData.throttle = false;\n            };\n            return setTimeout(throttleOff, this.opts.throttle);\n          }\n        }\n      };\n\n      VideoLightning.prototype.regEvents = function() {\n        this.target.style.cursor = 'pointer';\n        this.target.addEventListener('mouseup', this.clicked, false);\n        if (_boolify(this.opts.popover, false)) {\n          window.addEventListener('resize', this.resize, false);\n          window.addEventListener('scroll', this.resize, false);\n          window.addEventListener('orientationchange', this.resize, false);\n          if (this.opts.peek) {\n            this.target.addEventListener('mouseenter', this.hovered, false);\n            return this.target.addEventListener('mouseleave', this.hovered, false);\n          }\n        }\n      };\n\n      VideoLightning.prototype.clicked = function(e) {\n        if (this.peeking) {\n          return this.peek(false, true);\n        }\n        if ((e.buttons && e.buttons !== 1) || (e.which && e.which !== 1) || (e.button && e.button !== 1)) {\n          return;\n        }\n        if (this.playing) {\n          return this.stop();\n        } else {\n          return this.play();\n        }\n      };\n\n      VideoLightning.prototype.hovered = function(e) {\n        if (e.type === 'mouseenter' && !this.playing) {\n          this.peek();\n        }\n        if (e.type === 'mouseleave' && this.playing) {\n          return this.peek(this.peeking);\n        }\n      };\n\n      VideoLightning.prototype.peek = function(close, pin) {\n        if (close == null) {\n          close = false;\n        }\n        if (pin == null) {\n          pin = false;\n        }\n        if (!this.peeking && this.playing) {\n          return;\n        }\n        this.close.innerHTML = close || pin ? '&times;' : '&#94;';\n        this.peeking = !!!(close || pin);\n        if (close) {\n          return this.stop();\n        } else if (pin) {\n          return null;\n        } else {\n          return this.play();\n        }\n      };\n\n      VideoLightning.prototype.play = function() {\n        if (_boolify(this.opts.popover, false)) {\n          this.popoverPos();\n        }\n        this.show();\n        if (this.ifr) {\n          _setSrc(this.iframe, {\n            url: encodeURI(this.id),\n            attrs: {\n              width: this.opts.width,\n              height: this.opts.height,\n              frameBorder: 0\n            }\n          });\n        } else if (this.ready && !this.playing && this.iframe.src !== 'about:blank') {\n          if (this.yt) {\n            this.ytPlay();\n          }\n          if (this.vm) {\n            this.vmPlay();\n          }\n        } else if (!this.playing) {\n          if (this.vm) {\n            this.initPlayerVM();\n          }\n          if (this.yt) {\n            this.initPlayerYT();\n          }\n        }\n        this.playing = true;\n        if (this.clearAfter) {\n          window.clearTimeout(this.clearAfter);\n        }\n      };\n\n      VideoLightning.prototype.stop = function(fade) {\n        if (fade == null) {\n          fade = 0;\n        }\n        if (_boolify(this.opts.rickRoll, false)) {\n          return;\n        }\n        this.hide(fade);\n        if (this.ready) {\n          if (this.yt) {\n            this.ytStop();\n          }\n          if (this.vm) {\n            this.vmStop();\n          }\n        } else {\n          this.clear();\n        }\n        this.playing = false;\n        if (_boolify(this.opts.unload, true)) {\n          this.clearAfter = window.setTimeout(this.clear, (_val(this.opts.unloadAfter) || 45) * 1000);\n        }\n      };\n\n      VideoLightning.prototype.clear = function() {\n        this.iframe.src = 'about:blank';\n      };\n\n      VideoLightning.prototype.show = function() {\n        _fadeIn(this.wrapper, _val(this.opts.fadeIn, 300));\n      };\n\n      VideoLightning.prototype.hide = function(fade) {\n        if (fade == null) {\n          fade = 0;\n        }\n        _fadeOut(this.wrapper, _val(this.opts.fadeOut, fade));\n      };\n\n      VideoLightning.prototype.cover = function() {\n        if (this.yt) {\n          this.coverYT();\n        }\n      };\n\n      VideoLightning.prototype.initPlayerYT = function() {\n        _setSrc(this.iframe, {\n          url: \"https://www.youtube.com/embed/\" + this.id,\n          params: {\n            enablejsapi: 1,\n            autoplay: _bitify(this.opts.autoplay, 1),\n            autohide: _val(this.opts.autohide, 2),\n            cc_load_policy: _val(this.opts.ccLoadPolicy, 0),\n            color: _val(this.opts.color, null),\n            controls: _val(this.opts.controls, 2),\n            disablekb: _val(this.opts.disablekb, 0),\n            end: _val(this.opts.endTime, null),\n            fs: _val(this.opts.fs, 1),\n            hl: _val(this.opts.hl, 'en'),\n            iv_load_policy: _val(this.opts.ivLoadPolicy, 1),\n            list: _val(this.opts.list, null),\n            listType: _val(this.opts.listType, null),\n            loop: _val(this.opts.loop, 0),\n            modestbranding: _val(this.opts.modestbranding, 0),\n            origin: encodeURIComponent(_val(this.opts.origin, location.protocol + \"//\" + location.host)),\n            playerapiid: this.inst,\n            playlist: _val(this.opts.playlist, null),\n            playsinline: _val(this.opts.playsinline, 0),\n            rel: _val(this.opts.rel, 0),\n            showinfo: _val(this.opts.showinfo, 1),\n            start: _val(this.opts.startTime, 0),\n            theme: _val(this.opts.theme, null)\n          },\n          attrs: {\n            width: this.opts.width,\n            height: this.opts.height,\n            frameBorder: 0\n          }\n        });\n        this.iframe.setAttribute('allowFullScreen', '');\n        if (window.vlData.ytAPIReady) {\n          return this.setYTPlayer();\n        }\n      };\n\n      VideoLightning.prototype.setYTPlayer = function() {\n        var ready;\n        ready = (function(_this) {\n          return function() {\n            return _this.ready = true;\n          };\n        })(this);\n        return this.ytPlayer != null ? this.ytPlayer : this.ytPlayer = new YT.Player(\"iframe_\" + this.inst, {\n          events: {\n            onReady: ready,\n            onStateChange: this.ytState\n          }\n        });\n      };\n\n      VideoLightning.prototype.ytPlay = function() {\n        return this.ytPlayer.playVideo();\n      };\n\n      VideoLightning.prototype.ytStop = function() {\n        _ytReset(this.ytPlayer, this.opts.startTime);\n        this.ytPlayer.stopVideo();\n        this.ytPlayer.clearVideo();\n        if (this.opts.startTime) {\n          this.clear();\n        }\n      };\n\n      VideoLightning.prototype.ytState = function(e) {\n        if (e.data === 0 && _boolify(this.opts.autoclose, true)) {\n          return this.stop(_val(this.opts.fadeOut, 1000));\n        }\n      };\n\n      VideoLightning.prototype.coverYT = function() {\n        this.ytCover = _coverEl(this.target, \"//img.youtube.com/vi/\" + this.id + \"/hqdefault.jpg\");\n      };\n\n      VideoLightning.prototype.initPlayerVM = function() {\n        _setSrc(this.iframe, {\n          url: \"https://player.vimeo.com/video/\" + this.id,\n          params: {\n            autoplay: _bitify(this.opts.autoplay, 1),\n            loop: _val(this.opts.loop, 0),\n            title: _val(this.opts.showinfo, 1),\n            byline: _val(this.opts.byline, 1),\n            portrait: _val(this.opts.portrait, 1),\n            color: _prepHex(_val(this.opts.color, '#00adef')),\n            api: 1,\n            player_id: this.inst\n          },\n          attrs: {\n            width: this.opts.width,\n            height: this.opts.height,\n            frameBorder: 0\n          }\n        });\n        this.iframe.setAttribute('allowFullScreen', '');\n        window.addEventListener('message', this.vmListen, false);\n        return this.vmPlayer != null ? this.vmPlayer : this.vmPlayer = this.iframe;\n      };\n\n      VideoLightning.prototype.vmListen = function(msg) {\n        var data;\n        data = JSON.parse(msg.data);\n        if (data.player_id !== this.inst) {\n          return;\n        }\n        switch (data.event) {\n          case 'ready':\n            this.ready = true;\n            _postToVM(this.vmPlayer, this.id, 'addEventListener', 'finish');\n            break;\n          case 'finish':\n            this.stop(1000);\n        }\n      };\n\n      VideoLightning.prototype.vmPlay = function() {\n        _postToVM(this.vmPlayer, this.id, 'play');\n      };\n\n      VideoLightning.prototype.vmStop = function() {\n        _postToVM(this.vmPlayer, this.id, 'pause');\n        if (this.opts.startTime) {\n          this.clear();\n        }\n      };\n\n      return VideoLightning;\n\n    })();\n    _val = function(p, d) {\n      if (p === false || p === 'false' || p === 0 || p === '0') {\n        return p;\n      } else {\n        return p || d;\n      }\n    };\n    _bitify = function(p, d) {\n      if (p === false || p === 'false' || p === 0 || p === '0') {\n        return 0;\n      } else if (p === true || p === 'true' || p === '1' || p === 1) {\n        return 1;\n      } else {\n        return d;\n      }\n    };\n    _boolify = function(p, d) {\n      if (p === false || p === 'false' || p === 0 || p === '0') {\n        return false;\n      } else {\n        return !!p || d;\n      }\n    };\n    _domStr = function(o) {\n      var attrs, c, children, i, k, len, ref, ref1, v;\n      attrs = '';\n      children = '';\n      if (o.attrs) {\n        ref = o.attrs;\n        for (k in ref) {\n          v = ref[k];\n          attrs += ' ' + k + '=\"' + v + '\"';\n        }\n      }\n      if (o.children) {\n        ref1 = o.children;\n        for (i = 0, len = ref1.length; i < len; i++) {\n          c = ref1[i];\n          children += _isObj(c) ? _domStr(c) : c;\n        }\n      }\n      return '<' + o.tag + attrs + '>' + (o.inner || children) + '</' + o.tag + '>';\n    };\n    _setSrc = function(el, o) {\n      var k, ref, ref1, results, src, v;\n      src = o.url + \"?\";\n      ref = o.params;\n      for (k in ref) {\n        v = ref[k];\n        if (v !== null) {\n          src += \"&\" + k + \"=\" + v;\n        }\n      }\n      el.src = src.replace(/&/, '');\n      ref1 = o.attrs;\n      results = [];\n      for (k in ref1) {\n        v = ref1[k];\n        results.push(el[k] = v);\n      }\n      return results;\n    };\n    _extObj = function(baseObj, extObj) {\n      var k, v;\n      for (k in extObj) {\n        v = extObj[k];\n        baseObj[k] = v;\n      }\n      return baseObj;\n    };\n    _isStr = function(obj) {\n      return typeof obj === 'string';\n    };\n    _isAry = function(obj) {\n      return obj instanceof Array;\n    };\n    _isElAry = function(obj) {\n      return obj instanceof HTMLCollection || obj instanceof NodeList;\n    };\n    _isObj = function(obj) {\n      return obj !== null && typeof obj === 'object';\n    };\n    _topKeyOfObj = function(obj) {\n      var k, v;\n      for (k in obj) {\n        v = obj[k];\n        return k;\n      }\n    };\n    _getEl = function(el) {\n      var els;\n      els = el.charAt(0) === '#' ? dom.getElementById(el.substr(1)) : dom.getElementsByClassName(el.substr(1));\n      if (_isAry(els) && els.length === 0) {\n        return null;\n      } else {\n        return els;\n      }\n    };\n    _randar = function() {\n      return (Math.random().toString(36).slice(2) + Math.random().toString(36).slice(2)).substring(0, 16);\n    };\n    _prepHex = function(hex) {\n      hex = hex.replace(/^#/, '');\n      if (hex.length === 3) {\n        return \"\" + hex + hex;\n      } else {\n        return hex;\n      }\n    };\n    _fullHex = function(hex) {\n      if (hex === 'transparent') {\n        return hex;\n      } else {\n        return \"#\" + _prepHex(hex);\n      }\n    };\n    _cc = function(hex) {\n      return {\n        r: parseInt((_prepHex(hex)).substring(0, 2), 16),\n        g: parseInt((_prepHex(hex)).substring(2, 4), 16),\n        b: parseInt((_prepHex(hex)).substring(4, 6), 16)\n      };\n    };\n    _wrapCss = 'display: none; position: fixed; min-width: 100%; min-height: 100%; top: 0; right: 0; bottom: 0; left: 0;';\n    _wrapCssP = function(w, h) {\n      return \"display: none; position: fixed; width: \" + w + \"px; height: \" + h + \"px;\";\n    };\n    _frameCss = 'position: absolute; top: 50%; left: 50%; background: #000000;';\n    _fadeCss = function(el, t) {\n      return el.style.transition = el.style.mozTransition = el.style.webkitTransition = \"opacity \" + t + \"ms ease\";\n    };\n    _fadeIn = function(el, t) {\n      var applyFade;\n      _fadeCss(el, t);\n      el.style.display = 'block';\n      applyFade = function() {\n        return el.style.opacity = 1;\n      };\n      return setTimeout(applyFade, 20);\n    };\n    _fadeOut = function(el, t) {\n      var applyFade;\n      _fadeCss(el, t);\n      el.style.opacity = 0;\n      applyFade = function() {\n        return el.style.display = 'none';\n      };\n      return setTimeout(applyFade, t);\n    };\n    _initYTAPI = function() {\n      var scriptA, vFuncs, vScript;\n      if (dom.getElementById('ytScript')) {\n        return;\n      }\n      scriptA = dom.getElementsByTagName('script')[0];\n      vFuncs = document.createElement('script');\n      vFuncs.innerHTML = 'function onYouTubeIframeAPIReady() {vlData.ytReady()};';\n      scriptA.parentNode.insertBefore(vFuncs, scriptA);\n      vScript = document.createElement('script');\n      vScript.id = 'ytScript';\n      vScript.async = true;\n      vScript.src = \"https://www.youtube.com/iframe_api\";\n      vFuncs.parentNode.insertBefore(vScript, vFuncs.nextSibling);\n    };\n    _ytReset = function(p, s) {\n      if (s == null) {\n        s = 0;\n      }\n      if ((p.getDuration() - 3) < p.getCurrentTime()) {\n        p.pauseVideo();\n        p.seekTo(s, false);\n      }\n    };\n    _postToVM = function(player, id, k, v) {\n      var data;\n      if (v == null) {\n        v = null;\n      }\n      data = v ? {\n        method: k,\n        value: v\n      } : {\n        method: k\n      };\n      return player.contentWindow.postMessage(JSON.stringify(data), \"https://player.vimeo.com/video/\" + id);\n    };\n    _coverEl = function(target, src) {\n      var cover;\n      cover = dom.createElement('img');\n      cover.className = 'video-cover';\n      cover.src = src;\n      target.appendChild(cover);\n      return cover;\n    };\n    _testEl = function() {\n      var test;\n      if (!(test = document.getElementById('vl-size-test'))) {\n        test = document.createElement(\"div\");\n        test.id = 'vl-size-test';\n        test.style.cssText = \"position:fixed;top:0;left:0;bottom:0;right:0;visibility:hidden;\";\n        document.body.appendChild(test);\n      }\n      return {\n        width: test.offsetWidth,\n        height: test.offsetHeight\n      };\n    };\n    _gravity = function(el, width, height, fluidity) {\n      var box_center, center, coords, i, j, page_height, page_width, points, ref, ref1, ref2, ref3, ref4, ref5, sort, x, y;\n      if (fluidity == null) {\n        fluidity = 30;\n      }\n      coords = el.getBoundingClientRect();\n      center = {\n        x: (page_width = _testEl().width) / 2,\n        y: (page_height = _testEl().height) / 2\n      };\n      box_center = {\n        x: width / 2,\n        y: height / 2\n      };\n      points = [];\n      for (x = i = ref = coords.left, ref1 = coords.right + width, ref2 = fluidity; ref2 > 0 ? i <= ref1 : i >= ref1; x = i += ref2) {\n        points.push([x - width, coords.top - height]);\n        points.push([x - width, coords.bottom]);\n      }\n      for (y = j = ref3 = coords.top, ref4 = coords.bottom + height, ref5 = fluidity; ref5 > 0 ? j <= ref4 : j >= ref4; y = j += ref5) {\n        points.push([coords.left - width, y - height]);\n        points.push([coords.right, y - height]);\n      }\n      sort = function(a, b) {\n        var ary, dax, day, l, len, obja, objb, ref6;\n        ref6 = [[a, obja = {}], [b, objb = {}]];\n        for (l = 0, len = ref6.length; l < len; l++) {\n          ary = ref6[l];\n          x = ary[0][0];\n          y = ary[0][1];\n          ary[1].diffx = (dax = x + box_center.x) > center.x ? dax - center.x : center.x - dax;\n          ary[1].diffy = (day = y + box_center.y) > center.y ? day - center.y : center.y - day;\n          ary[1].diff = ary[1].diffx + ary[1].diffy;\n          if (x < 0 || x + width > page_width) {\n            ary[1].diff += 10000;\n          }\n          if (y < 0 || y + height > page_height) {\n            ary[1].diff += 10000;\n          }\n        }\n        return obja.diff - objb.diff;\n      };\n      points.sort(sort);\n      return {\n        x: parseInt(((x = points[0][0]) < 0 || x + width > page_width ? center.x - box_center.x : x), 10),\n        y: parseInt(((y = points[0][1]) < 0 || y + height > page_height ? center.y - box_center.y : y), 10)\n      };\n    };\n    this.videoLightning = videoLightning;\n    this.vlData = {};\n    this.vlData.instances = [];\n    this.vlData.ytReady = (function(_this) {\n      return function() {\n        return _this.vlData.ytAPIReady = true;\n      };\n    })(this);\n    this.vlData.youtube = this.vlData.vimeo = false;\n    if (typeof $ !== 'undefined') {\n      return $.fn.jqueryVideoLightning = function(options) {\n        this.each(function() {\n          var inst;\n          if (!$.data(this, 'plugin_jqueryVideoLightning')) {\n            inst = new VideoLightning({\n              el: this,\n              opts: options\n            });\n            vlData.instances.push(inst);\n            $.data(this, 'plugin_jqueryVideoLightning', inst);\n          }\n        });\n        return _initYTAPI();\n      };\n    }\n  })(document);\n\n}).call(this);\n\n\n"]}